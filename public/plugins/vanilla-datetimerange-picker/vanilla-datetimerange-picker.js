var DateRangePicker;!function(){(DateRangePicker=function(e,s,i){this.parentEl=document.body,this.element="string"==typeof e?document.getElementById(e):e,this.startDate=moment().startOf("day"),this.endDate=moment().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=moment().subtract(100,"year").format("YYYY"),this.maxYear=moment().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.classList.contains("pull-right")&&(this.opens="left"),this.drops="down",this.element.classList.contains("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:moment.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof s&&null!==s||(s={}),"string"!=typeof(s=Object.assign(Object.assign({},this.element.dataset),s)).template&&(s.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=s.parentEl?s.parentEl:this.parentEl;var a,n,o,l=document.createElement("div");if(l.innerHTML=s.template.trim(),this.container=l.firstElementChild,this.parentEl.insertAdjacentElement("beforeEnd",this.container),"object"==typeof s.locale&&("string"==typeof s.locale.direction&&(this.locale.direction=s.locale.direction),"string"==typeof s.locale.format&&(this.locale.format=s.locale.format),"string"==typeof s.locale.separator&&(this.locale.separator=s.locale.separator),"object"==typeof s.locale.daysOfWeek&&(this.locale.daysOfWeek=s.locale.daysOfWeek.slice()),"object"==typeof s.locale.monthNames&&(this.locale.monthNames=s.locale.monthNames.slice()),"number"==typeof s.locale.firstDay&&(this.locale.firstDay=s.locale.firstDay),"string"==typeof s.locale.applyLabel&&(this.locale.applyLabel=s.locale.applyLabel),"string"==typeof s.locale.cancelLabel&&(this.locale.cancelLabel=s.locale.cancelLabel),"string"==typeof s.locale.weekLabel&&(this.locale.weekLabel=s.locale.weekLabel),"string"==typeof s.locale.customRangeLabel)){(u=document.createElement("textarea")).innerHTML=s.locale.customRangeLabel;var r=u.value;this.locale.customRangeLabel=r}if(this.container.classList.add(this.locale.direction),"string"==typeof s.startDate&&(this.startDate=moment(s.startDate,this.locale.format)),"string"==typeof s.endDate&&(this.endDate=moment(s.endDate,this.locale.format)),"string"==typeof s.minDate&&(this.minDate=moment(s.minDate,this.locale.format)),"string"==typeof s.maxDate&&(this.maxDate=moment(s.maxDate,this.locale.format)),"object"==typeof s.startDate&&(this.startDate=moment(s.startDate)),"object"==typeof s.endDate&&(this.endDate=moment(s.endDate)),"object"==typeof s.minDate&&(this.minDate=moment(s.minDate)),"object"==typeof s.maxDate&&(this.maxDate=moment(s.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof s.applyButtonClasses&&(this.applyButtonClasses=s.applyButtonClasses),"string"==typeof s.applyClass&&(this.applyButtonClasses=s.applyClass),"string"==typeof s.cancelButtonClasses&&(this.cancelButtonClasses=s.cancelButtonClasses),"string"==typeof s.cancelClass&&(this.cancelButtonClasses=s.cancelClass),"object"==typeof s.maxSpan&&(this.maxSpan=s.maxSpan),"object"==typeof s.dateLimit&&(this.maxSpan=s.dateLimit),"string"==typeof s.opens&&(this.opens=s.opens),"string"==typeof s.drops&&(this.drops=s.drops),"boolean"==typeof s.showWeekNumbers&&(this.showWeekNumbers=s.showWeekNumbers),"boolean"==typeof s.showISOWeekNumbers&&(this.showISOWeekNumbers=s.showISOWeekNumbers),"string"==typeof s.buttonClasses&&(this.buttonClasses=s.buttonClasses),"object"==typeof s.buttonClasses&&(this.buttonClasses=s.buttonClasses.join(" ")),"boolean"==typeof s.showDropdowns&&(this.showDropdowns=s.showDropdowns),"number"==typeof s.minYear&&(this.minYear=s.minYear),"number"==typeof s.maxYear&&(this.maxYear=s.maxYear),"boolean"==typeof s.showCustomRangeLabel&&(this.showCustomRangeLabel=s.showCustomRangeLabel),"boolean"==typeof s.singleDatePicker&&(this.singleDatePicker=s.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof s.timePicker&&(this.timePicker=s.timePicker),"boolean"==typeof s.timePickerSeconds&&(this.timePickerSeconds=s.timePickerSeconds),"number"==typeof s.timePickerIncrement&&(this.timePickerIncrement=s.timePickerIncrement),"boolean"==typeof s.timePicker24Hour&&(this.timePicker24Hour=s.timePicker24Hour),"boolean"==typeof s.autoApply&&(this.autoApply=s.autoApply),"boolean"==typeof s.autoUpdateInput&&(this.autoUpdateInput=s.autoUpdateInput),"boolean"==typeof s.linkedCalendars&&(this.linkedCalendars=s.linkedCalendars),"function"==typeof s.isInvalidDate&&(this.isInvalidDate=s.isInvalidDate),"function"==typeof s.isCustomDate&&(this.isCustomDate=s.isCustomDate),"boolean"==typeof s.alwaysShowCalendars&&(this.alwaysShowCalendars=s.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;h>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;if(void 0===s.startDate&&void 0===s.endDate&&"INPUT"===this.element.tagName&&"text"===this.element.type){var c=this.element.value,d=c.split(this.locale.separator);a=n=null,2==d.length?(a=moment(d[0],this.locale.format),n=moment(d[1],this.locale.format)):this.singleDatePicker&&""!==c&&(a=moment(c,this.locale.format),n=moment(c,this.locale.format)),null!==a&&null!==n&&(this.setStartDate(a),this.setEndDate(n))}if("object"==typeof s.ranges){let t=Object.keys(s.ranges);for(let e=0;e<t.length;++e){let i=t[e];a="string"==typeof s.ranges[i][0]?moment(s.ranges[i][0],this.locale.format):moment(s.ranges[i][0]),n="string"==typeof s.ranges[i][1]?moment(s.ranges[i][1],this.locale.format):moment(s.ranges[i][1]),this.minDate&&a.isBefore(this.minDate)&&(a=this.minDate.clone());var m=this.maxDate;if(this.maxSpan&&m&&a.clone().add(this.maxSpan).isAfter(m)&&(m=a.clone().add(this.maxSpan)),m&&n.isAfter(m)&&(n=m.clone()),!(this.minDate&&n.isBefore(this.minDate,this.timepicker?"minute":"day")||m&&a.isAfter(m,this.timepicker?"minute":"day"))){var u;(u=document.createElement("textarea")).innerHTML=i;r=u.value;this.ranges[r]=[a,n]}}var f="<ul>";for(o in this.ranges)f+='<li data-range-key="'+o+'">'+o+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.querySelector(".ranges").insertAdjacentHTML("afterbegin",f)}"function"==typeof i&&(this.callback=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.style.display="none",this.container.querySelector(".calendar-time").display),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.classList.add("auto-apply"),"object"==typeof s.ranges&&this.container.classList.add("show-ranges"),this.singleDatePicker&&(this.container.classList.add("single"),this.container.querySelector(".drp-calendar.left").classList.add("single"),this.container.querySelector(".drp-calendar.left").style.display="block",this.container.querySelector(".drp-calendar.right").style.display="none",!this.timePicker&&this.autoApply&&this.container.classList.add("auto-apply")),(void 0===s.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.classList.add("show-calendar"),this.container.classList.add("opens"+this.opens);let p=this.container.querySelector(".applyBtn"),y=this.container.querySelector(".cancelBtn");t.addClass(p,this.buttonClasses),t.addClass(y,this.buttonClasses),this.applyButtonClasses.length&&t.addClass(p,this.applyButtonClasses),this.cancelButtonClasses.length&&t.addClass(y,this.cancelButtonClasses),t.html(p,this.locale.applyLabel),t.html(y,this.locale.cancelLabel),this.clickRangeProxy=function(t){this.clickRange(t)}.bind(this),t.on(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy);let D=this.container.querySelector(".drp-buttons");this.clickApplyProxy=function(t){this.clickApply(t)}.bind(this),t.on(D,"click","button.applyBtn",this.clickApplyProxy),this.clickCancelProxy=function(t){this.clickCancel(t)}.bind(this),t.on(D,"click","button.cancelBtn",this.clickCancelProxy),"INPUT"===this.element.tagName||"BUTTON"===this.element.tagName?(this.showProxy=function(t){this.show(t)}.bind(this),t.on(this.element,"click",this.showProxy),t.on(this.element,"focus",this.showProxy),this.elementChangedProxy=function(t){this.elementChanged(t)}.bind(this),t.on(this.element,"keyup",this.elementChangedProxy),this.keydownProxy=function(t){this.keydown(t)}.bind(this),t.on(this.element,"keydown",this.keydownProxy)):(this.toggleProxy=function(t){this.toggle(t)}.bind(this),t.on(this.element,"click",this.toggleProxy),t.on(this.element,"keydown",this.toggleProxy)),this.updateElement()}).prototype={constructor:DateRangePicker,setStartDate:function(t){"string"==typeof t&&(this.startDate=moment(t,this.locale.format)),"object"==typeof t&&(this.startDate=moment(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=moment(e,this.locale.format)),"object"==typeof e&&(this.endDate=moment(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),t.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){if(this.timePicker){this.renderTimePicker("left"),this.renderTimePicker("right");let t=this.container.querySelectorAll(".right .calendar-time select");if(this.endDate)for(let e=0;e<t.length;++e)t[e].disabled=!1,t[e].classList.remove("disabled");else for(let e=0;e<t.length;++e)t[e].disabled=!0,t[e].classList.add("disabled")}this.endDate&&t.html(this.container.querySelector(".drp-selected"),this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){this.clickPrevProxy||(this.clickPrevProxy=function(t){this.clickPrev(t)}.bind(this)),this.clickNextProxy||(this.clickNextProxy=function(t){this.clickNext(t)}.bind(this)),this.clickDateProxy||(this.clickDateProxy=function(t){this.clickDate(t)}.bind(this)),this.hoverDateProxy||(this.hoverDateProxy=function(t){this.hoverDate(t)}.bind(this)),this.monthOrYearChangedProxy||(this.monthOrYearChangedProxy=function(t){this.monthOrYearChanged(t)}.bind(this)),this.timeChangedProxy||(this.timeChangedProxy=function(t){this.timeChanged(t)}.bind(this));let e=this.container.querySelectorAll(".drp-calendar");if(t.off(e,"click",".prev",this.clickPrevProxy),t.off(e,"click",".next",this.clickNextProxy),t.off(e,"mousedown","td.available",this.clickDateProxy),t.off(e,"mouseenter","td.available",this.hoverDateProxy),t.off(e,"change","select.yearselect",this.monthOrYearChangedProxy),t.off(e,"change","select.monthselect",this.monthOrYearChangedProxy),t.off(e,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.timePicker){var s,i,a,n;if(this.endDate){if(s=parseInt(this.container.querySelector(".left .hourselect").value,10),i=parseInt(this.container.querySelector(".left .minuteselect").value,10),isNaN(i)&&(i=parseInt(t.findLast(this.container.querySelector(".left .minuteselect")).value,10)),a=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0,!this.timePicker24Hour)"PM"===(n=this.container.querySelector(".left .ampmselect").value)&&s<12&&(s+=12),"AM"===n&&12===s&&(s=0)}else if(s=parseInt(this.container.querySelector(".right .hourselect").value,10),i=parseInt(this.container.querySelector(".right .minuteselect").value,10),isNaN(i)&&(i=parseInt(t.findLast(this.container.querySelector(".right .minuteselect")).value,10)),a=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0,!this.timePicker24Hour)"PM"===(n=this.container.querySelector(".right .ampmselect").value)&&s<12&&(s+=12),"AM"===n&&12===s&&(s=0);this.leftCalendar.month.hour(s).minute(i).second(a),this.rightCalendar.month.hour(s).minute(i).second(a)}this.renderCalendar("left"),this.renderCalendar("right"),rangesLiElList=this.container.querySelectorAll(".ranges li");for(let t=0;t<rangesLiElList.length;++t)rangesLiElList[t].classList.remove("active");null!=this.endDate&&this.calculateChosenLabel(),t.on(e,"click",".prev",this.clickPrevProxy),t.on(e,"click",".next",this.clickNextProxy),t.on(e,"mousedown","td.available",this.clickDateProxy),t.on(e,"mouseenter","td.available",this.hoverDateProxy),t.on(e,"change","select.yearselect",this.monthOrYearChangedProxy),t.on(e,"change","select.monthselect",this.monthOrYearChangedProxy),t.on(e,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},renderCalendar:function(e){var s,i=(s="left"==e?this.leftCalendar:this.rightCalendar).month.month(),a=s.month.year(),n=s.month.hour(),o=s.month.minute(),l=s.month.second(),r=moment([a,i]).daysInMonth(),h=moment([a,i,1]),c=moment([a,i,r]),d=moment(h).subtract(1,"month").month(),m=moment(h).subtract(1,"month").year(),u=moment([m,d]).daysInMonth(),f=h.day();(s=[]).firstDay=h,s.lastDay=c;for(var p=0;p<6;p++)s[p]=[];var y=u-f+this.locale.firstDay+1;y>u&&(y-=7),f==this.locale.firstDay&&(y=u-6);for(var D=moment([m,d,y,12,o,l]),g=(p=0,0),k=0;p<42;p++,g++,D=moment(D).add(24,"hour"))p>0&&g%7==0&&(g=0,k++),s[k][g]=D.clone().hour(n).minute(o).second(l),D.hour(12),this.minDate&&s[k][g].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&s[k][g].isBefore(this.minDate)&&"left"==e&&(s[k][g]=this.minDate.clone()),this.maxDate&&s[k][g].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&s[k][g].isAfter(this.maxDate)&&"right"==e&&(s[k][g]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=s:this.rightCalendar.calendar=s;var b="left"==e?this.minDate:this.startDate,v=this.maxDate,P=("left"==e?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');P+="<thead>",P+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(P+="<th></th>"),b&&!b.isBefore(s.firstDay)||this.linkedCalendars&&"left"!=e?P+="<th></th>":P+='<th class="prev available"><span></span></th>';var C=this.locale.monthNames[s[1][1].month()]+s[1][1].format(" YYYY");if(this.showDropdowns){for(var x=s[1][1].month(),Y=s[1][1].year(),S=v&&v.year()||this.maxYear,w=b&&b.year()||this.minYear,L=Y==w,M=Y==S,E='<select class="monthselect">',I=0;I<12;I++)(!L||b&&I>=b.month())&&(!M||v&&I<=v.month())?E+="<option value='"+I+"'"+(I===x?" selected='selected'":"")+">"+this.locale.monthNames[I]+"</option>":E+="<option value='"+I+"'"+(I===x?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[I]+"</option>";E+="</select>";for(var q='<select class="yearselect">',A=w;A<=S;A++)q+='<option value="'+A+'"'+(A===Y?' selected="selected"':"")+">"+A+"</option>";C=E+(q+="</select>")}P+='<th colspan="5" class="month">'+C+"</th>",v&&!v.isAfter(s.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?P+="<th></th>":P+='<th class="next available"><span></span></th>',P+="</tr>",P+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(P+='<th class="week">'+this.locale.weekLabel+"</th>");for(let t=0;t<this.locale.daysOfWeek.length;++t)P+="<th>"+this.locale.daysOfWeek[t]+"</th>";if(P+="</tr>",P+="</thead>",P+="<tbody>",null==this.endDate&&this.maxSpan){var N=this.startDate.clone().add(this.maxSpan).endOf("day");v&&!N.isBefore(v)||(v=N)}for(k=0;k<6;k++){P+="<tr>",this.showWeekNumbers?P+='<td class="week">'+s[k][0].week()+"</td>":this.showISOWeekNumbers&&(P+='<td class="week">'+s[k][0].isoWeek()+"</td>");for(g=0;g<7;g++){var O=[];s[k][g].isSame(new Date,"day")&&O.push("today"),s[k][g].isoWeekday()>5&&O.push("weekend"),s[k][g].month()!=s[1][1].month()&&O.push("off","ends"),this.minDate&&s[k][g].isBefore(this.minDate,"day")&&O.push("off","disabled"),v&&s[k][g].isAfter(v,"day")&&O.push("off","disabled"),this.isInvalidDate(s[k][g])&&O.push("off","disabled"),s[k][g].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&O.push("active","start-date"),null!=this.endDate&&s[k][g].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&O.push("active","end-date"),null!=this.endDate&&s[k][g]>this.startDate&&s[k][g]<this.endDate&&O.push("in-range");var B=this.isCustomDate(s[k][g]);!1!==B&&("string"==typeof B?O.push(B):Array.prototype.push.apply(O,B));var W="",H=!1;for(p=0;p<O.length;p++)W+=O[p]+" ","disabled"==O[p]&&(H=!0);H||(W+="available"),P+='<td class="'+W.replace(/^\s+|\s+$/g,"")+'" data-title="r'+k+"c"+g+'">'+s[k][g].date()+"</td>"}P+="</tr>"}P+="</tbody>",P+="</table>",t.html(this.container.querySelector(".drp-calendar."+e+" .calendar-table"),P)},renderTimePicker:function(e){if("right"!=e||this.endDate){var s,i,a,n=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(n=this.startDate.clone().add(this.maxSpan)),"left"==e)i=this.startDate.clone(),a=this.minDate;else if("right"==e){i=this.endDate.clone(),a=this.startDate;var o=this.container.querySelector(".drp-calendar.right .calendar-time");if(""!=o.innerHTML&&(i.hour(isNaN(i.hour())?t.findSelectedOption(o.querySelector(".hourselect")).value:i.hour()),i.minute(isNaN(i.minute())?t.findSelectedOption(o.querySelector(".minuteselect")).value:i.minute()),i.second(isNaN(i.second())?t.findSelectedOption(o.querySelector(".secondselect")).value:i.second()),!this.timePicker24Hour)){var l=t.findSelectedOption(o.querySelector(".ampmselect")).value;"PM"===l&&i.hour()<12&&i.hour(i.hour()+12),"AM"===l&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),n&&i.isAfter(n)&&(i=n.clone())}s='<select class="hourselect">';for(var r=this.timePicker24Hour?0:1,h=this.timePicker24Hour?23:12,c=r;c<=h;c++){var d=c;this.timePicker24Hour||(d=i.hour()>=12?12==c?12:c+12:12==c?0:c);var m=i.clone().hour(d),u=!1;a&&m.minute(59).isBefore(a)&&(u=!0),n&&m.minute(0).isAfter(n)&&(u=!0),d!=i.hour()||u?s+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":s+='<option value="'+c+'" selected="selected">'+c+"</option>"}s+="</select> ",s+=': <select class="minuteselect">';for(c=0;c<60;c+=this.timePickerIncrement){var f=c<10?"0"+c:c;m=i.clone().minute(c),u=!1;a&&m.second(59).isBefore(a)&&(u=!0),n&&m.second(0).isAfter(n)&&(u=!0),i.minute()!=c||u?s+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":s+='<option value="'+c+'" selected="selected">'+f+"</option>"}if(s+="</select> ",this.timePickerSeconds){s+=': <select class="secondselect">';for(c=0;c<60;c++){f=c<10?"0"+c:c,m=i.clone().second(c),u=!1;a&&m.isBefore(a)&&(u=!0),n&&m.isAfter(n)&&(u=!0),i.second()!=c||u?s+=u?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":s+='<option value="'+c+'" selected="selected">'+f+"</option>"}s+="</select> "}if(!this.timePicker24Hour){s+='<select class="ampmselect">';var p="",y="";a&&i.clone().hour(12).minute(0).second(0).isBefore(a)&&(p=' disabled="disabled" class="disabled"'),n&&i.clone().hour(0).minute(0).second(0).isAfter(n)&&(y=' disabled="disabled" class="disabled"'),i.hour()>=12?s+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+y+">PM</option>":s+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+y+">PM</option>",s+="</select>"}t.html(this.container.querySelector(".drp-calendar."+e+" .calendar-time"),s)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.querySelector("button.applyBtn").disabled=!1:this.container.querySelector("button.applyBtn").disabled=!0},move:function(){var e,s={top:0,left:0},i=this.drops,a=window.innerWidth;if("BODY"!==this.parentEl.tagName){let e=t.offset(this.parentEl);s={top:e.top-this.parentEl.scrollTop(),left:e.left-this.parentEl.scrollLeft()},a=this.parentEl.clientWidth+e.left}let n=t.offset(this.element);switch(i){case"auto":(e=n.top+this.element.offsetHeight-s.top)+this.container.offsetHeight>=this.parentEl.scrollHeight&&(e=n.top-this.container.offsetHeight-s.top,i="up");break;case"up":e=n.top-this.container.offsetHeight-s.top;break;default:e=n.top+this.element.offsetHeight-s.top}this.container.style.top="0",this.container.style.left="0",this.container.style.right="auto";var o=this.container.offsetWidth;if("up"==i?this.container.classList.add("drop-up"):this.container.classList.remove("drop-up"),"left"==this.opens){var l=a-n.left-this.element.offsetWidth;o+l>window.innerWidth?(this.container.style.top=e+"px",this.container.style.right="auto",this.container.style.left="9px"):(this.container.style.top=e+"px",this.container.style.right=l+"px",this.container.style.left="auto")}else if("center"==this.opens){(r=n.left-s.left+this.element.offsetWidth/2-o/2)<0?(this.container.style.top=e+"px",this.container.style.right="auto",this.container.style.left="9px"):r+o>window.innerWidth?(this.container.style.top=e+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=e+"px",this.container.style.left=r+"px",this.container.style.right="auto")}else{var r;(r=n.left-s.left)+o>window.innerWidth?(this.container.style.top=e+"px",this.container.style.left="auto",this.container.style.right="0"):(this.container.style.top=e+"px",this.container.style.left=r+"px",this.container.style.right="auto")}},show:function(e){this.isShowing||(this._outsideClickProxy||(this._outsideClickProxy=function(t){this.outsideClick(t)}.bind(this)),document.addEventListener("mousedown",this._outsideClickProxy),document.addEventListener("touchend",this._outsideClickProxy),t.on(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.addEventListener("focusin",this._outsideClickProxy),this.moveProxy||(this.moveProxy=function(t){this.move(t)}.bind(this)),window.addEventListener("resize",this.moveProxy),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.style.display="block",this.move(),this.element.dispatchEvent(new CustomEvent("show.daterangepicker",{bubbles:!0,detail:this})),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),t.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy)),this.moveProxy&&window.removeEventListener("resize",this.moveProxy),this.container.style.display="none",this.element.dispatchEvent(new CustomEvent("hide.daterangepicker",{bubbles:!0,detail:this})),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(e){var s=e.target;"focusin"==e.type||s.closest(t.getSelectorFromElement(this.element))||s.closest(t.getSelectorFromElement(this.container))||s.closest(".calendar-table")||(this.hide(),this.element.dispatchEvent(new CustomEvent("outsideClick.daterangepicker",{bubbles:!0,detail:this})))},showCalendars:function(){this.container.classList.add("show-calendar"),this.move(),this.element.dispatchEvent(new CustomEvent("showCalendar.daterangepicker",{bubbles:!0,detail:this}))},hideCalendars:function(){this.container.classList.remove("show-calendar"),this.element.dispatchEvent(new CustomEvent("hideCalendar.daterangepicker",{bubbles:!0,detail:this}))},clickRange:function(t){var e=t.target.dataset.rangeKey;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var s=this.ranges[e];this.startDate=s[0],this.endDate=s[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply(t)}},clickPrev:function(t){t.target.closest(".drp-calendar").classList.contains("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){t.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(t.target.classList.contains("available")){var e=(l=t.target.dataset.title).substr(1,1),s=l.substr(3,1),i=t.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar.calendar[e][s]:this.rightCalendar.calendar[e][s],a=this.leftCalendar,n=this.rightCalendar,o=this.startDate;if(!this.endDate){let t=this.container.querySelectorAll(".drp-calendar tbody td");for(let h=0;h<t.length;++h){if(t[h].classList.contains("week"))return;e=(l=t[h].dataset.title).substr(1,1),s=l.substr(3,1);var l,r=t[h].closest(".drp-calendar").classList.contains("left")?a.calendar[e][s]:n.calendar[e][s];r.isAfter(o)&&r.isBefore(i)||r.isSame(i,"day")?t[h].classList.add("in-range"):t[h].classList.remove("in-range")}}}},clickDate:function(t){if(t.target.classList.contains("available")){var e=t.target.dataset.title,s=e.substr(1,1),i=e.substr(3,1),a=t.target.closest(".drp-calendar").classList.contains("left")?this.leftCalendar.calendar[s][i]:this.rightCalendar.calendar[s][i];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var n=parseInt(this.container.querySelector(".left .hourselect").value,10);if(!this.timePicker24Hour)"PM"===(r=this.container.querySelector(".left .ampmselect").value)&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0);var o=parseInt(this.container.querySelector(".left .minuteselect").value,10);isNaN(o)&&(o=parseInt(this.container.querySelector(".left .minuteselect option:last").value,10));var l=this.timePickerSeconds?parseInt(this.container.querySelector(".left .secondselect").value,10):0;a=a.clone().hour(n).minute(o).second(l)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var r;n=parseInt(this.container.querySelector(".right .hourselect").value,10);if(!this.timePicker24Hour)"PM"===(r=this.container.querySelector(".right .ampmselect").value)&&n<12&&(n+=12),"AM"===r&&12===n&&(n=0);o=parseInt(this.container.querySelector(".right .minuteselect").value,10);isNaN(o)&&(o=parseInt(this.container.querySelector(".right .minuteselect option:last").value,10));l=this.timePickerSeconds?parseInt(this.container.querySelector(".right .secondselect").value,10):0;a=a.clone().hour(n).minute(o).second(l)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply(t))}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply(t)),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var e=!0;let s=Object.keys(this.ranges);for(let t=0;t<s.length;++t){let a=this.ranges[s[t]];if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==a[0].format(i)&&this.endDate.format(i)==a[1].format(i)){e=!1;let s=this.container.querySelectorAll(".ranges li");s[t].classList.add("active"),this.chosenLabel=s[t].dataset.rangeKey;break}}else if(this.startDate.format("YYYY-MM-DD")==a[0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==a[1].format("YYYY-MM-DD")){e=!1;let s=this.container.querySelectorAll(".ranges li");s[t].classList.add("active"),this.chosenLabel=s[t].dataset.rangeKey;break}}if(e){if(this.showCustomRangeLabel){let e=t.findLast(this.container.querySelectorAll(".ranges li"));e?(e.classList.add("active"),this.chosenLabel=e.dataset.rangeKey):this.chosenLabel=null}else this.chosenLabel=null;this.showCalendars()}},clickApply:function(t){this.hide(),t.target.dispatchEvent(new CustomEvent("apply.daterangepicker",{bubbles:!0,detail:this}))},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),t.target.dispatchEvent(new CustomEvent("cancel.daterangepicker",{bubbles:!0,detail:this}))},monthOrYearChanged:function(t){var e=t.target.closest(".drp-calendar").classList.contains("left"),s=e?"left":"right",i=this.container.querySelector(".drp-calendar."+s),a=parseInt(i.querySelector(".monthselect").value,10),n=i.querySelector(".yearselect").value;e||(n<this.startDate.year()||n==this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),n=this.startDate.year()),this.minDate&&(n<this.minDate.year()||n==this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),n=this.minDate.year()),this.maxDate&&(n>this.maxDate.year()||n==this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),n=this.maxDate.year()),e?(this.leftCalendar.month.month(a).year(n),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(a).year(n),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var s=e.target.closest(".drp-calendar"),i=s.classList.contains("left"),a=parseInt(s.querySelector(".hourselect").value,10),n=parseInt(s.querySelector(".minuteselect").value,10);isNaN(n)&&(n=parseInt(t.findLast(s.querySelectorAll(".minuteselect option")).value,10));var o=this.timePickerSeconds?parseInt(s.querySelector(".secondselect").value,10):0;if(!this.timePicker24Hour){var l=s.querySelector(".ampmselect").value;"PM"===l&&a<12&&(a+=12),"AM"===l&&12===a&&(a=0)}if(i){var r=this.startDate.clone();r.hour(a),r.minute(n),r.second(o),this.setStartDate(r),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&this.endDate.isBefore(r)&&this.setEndDate(r.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(a),h.minute(n),h.second(o),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs();let c=this.container.querySelectorAll(".drp-calendar");t.off(c,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),this.renderTimePicker("left"),this.renderTimePicker("right"),t.on(c,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy)},elementChanged:function(){if("INPUT"===this.element.tagName&&this.element.value&&this.element.value.length){var t=this.element.value.split(this.locale.separator),e=null,s=null;2===t.length&&(e=moment(t[0],this.locale.format),s=moment(t[1],this.locale.format)),(this.singleDatePicker||null===e||null===s)&&(s=e=moment(this.element.value,this.locale.format)),e.isValid()&&s.isValid()&&(this.setStartDate(e),this.setEndDate(s),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if("INPUT"===this.element.tagName&&this.autoUpdateInput){let t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.value&&(this.element.value=t)}},remove:function(){this._outsideClickProxy&&(document.removeEventListener("mousedown",this._outsideClickProxy),document.removeEventListener("touchend",this._outsideClickProxy),t.off(document,"click","[data-toggle=dropdown]",this._outsideClickProxy),document.removeEventListener("focusin",this._outsideClickProxy),delete this._outsideClickProxy),this.moveProxy&&(window.addEventListener("resize",this.moveProxy),delete this.moveProxy),this.clickRangeProxy&&(t.off(this.container.querySelector(".ranges"),"click","li",this.clickRangeProxy),delete this.clickRangeProxy);let e=this.container.querySelector(".drp-buttons");this.clickApplyProxy&&(t.off(e,"click","button.applyBtn",this.clickApplyProxy),delete this.clickApplyProxy),this.clickCancelProxy&&(t.off(e,"click","button.cancelBtn",this.clickCancelProxy),delete this.clickCancelProxy),"INPUT"===this.element.tagName||"BUTTON"===this.element.tagName?(this.showProxy&&(t.off(this.element,"click",this.showProxy),t.off(this.element,"focus",this.showProxy),delete this.showProxy),this.elementChangedProxy&&(t.off(this.element,"keyup",this.elementChangedProxy),delete this.elementChangedProxy),this.keydownProxy&&(t.off(this.element,"keydown",this.keydownProxy),delete this.keydownProxy)):this.toggleProxy&&(t.off(this.element,"click",this.toggleProxy),t.off(this.element,"keydown",this.toggleProxy),delete this.toggleProxy);let s=this.container.querySelectorAll(".drp-calendar");this.clickPrevProxy&&(t.off(s,"click",".prev",this.clickPrevProxy),delete this.clickPrevProxy),this.clickNextProxy&&(t.off(s,"click",".next",this.clickNextProxy),delete this.clickNextProxy),this.clickDateProxy&&(t.off(s,"mousedown","td.available",this.clickDateProxy),delete this.clickDateProxy),this.hoverDateProxy&&(t.off(s,"mouseenter","td.available",this.hoverDateProxy),delete this.hoverDateProxy),this.monthOrYearChangedProxy&&(t.off(s,"change","select.yearselect",this.monthOrYearChangedProxy),t.off(s,"change","select.monthselect",this.monthOrYearChangedProxy),delete this.monthOrYearChangedProxy),this.timeChangedProxy&&(t.off(s,"change","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",this.timeChangedProxy),delete this.timeChangedProxy),delete this.container,delete this.element.dataset}};var t={addClassSub:function(t,e){let s=e.split(" ");for(let e=0;e<s.length;++e)t.classList.add(s[e].trim())},addClass:function(e,s){if(e)if("number"==typeof e.length)for(let i=0;i<e.length;++i)t.addClassSub(e[i],s);else t.addClassSub(e,s)},findLast:function(t){return t?"number"==typeof t.length?t.length>0?t[t.length-1]:null:t:null},findSelectedOption:function(t){if(!t||!t.options||!t.options.length)return null;for(let e=0;e<t.options.length;++e)if(t.options[e].selected)return t.options[e];return null},getSelectorFromElement:function(t){if(!(t&&t instanceof Element))return null;let e=t.nodeName.toLowerCase();if(t.id)return e+"#"+t.id;for(let s=0;s<t.classList.length;++s)e+="."+t.classList[s];return e},html:function(t,e){t&&(t.innerHTML=e)},offset:function(t){if(!t)return{top:0,left:0};if(!t.getClientRects().length)return{top:0,left:0};let e=t.getBoundingClientRect(),s=t.ownerDocument.defaultView;return{top:e.top+s.pageYOffset,left:e.left+s.pageXOffset}},offSub:function(t,e,s){if("number"==typeof t.length)for(let i=0;i<t.length;++i)t[i].removeEventListener(e,s);else t.removeEventListener(e,s)},off:function(e,s,i,a){if(e)if("function"==typeof i)t.offSub(e,s,i);else if("number"==typeof e.length)for(let n=0;n<e.length;++n)t.offSub(e[n].querySelectorAll(i),s,a);else t.offSub(e.querySelectorAll(i),s,a)},onSub:function(t,e,s){if("number"==typeof t.length)for(let i=0;i<t.length;++i)t[i].addEventListener(e,s);else t.addEventListener(e,s)},on:function(e,s,i,a){if(e)if("function"==typeof i)t.onSub(e,s,i);else if("number"==typeof e.length)for(let n=0;n<e.length;++n)t.onSub(e[n].querySelectorAll(i),s,a);else t.onSub(e.querySelectorAll(i),s,a)}}}();
